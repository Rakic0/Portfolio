/*! For license information please see main.0101da20e15845edde5f.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatewebsite_template("main",{"./app/classes/Page.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var i=s("./node_modules/gsap/index.js"),n=s("./node_modules/lodash/each.js"),a=s.n(n),o=s("./node_modules/lodash/map.js"),h=s.n(o),l=s("./node_modules/normalize-wheel/index.js"),r=s.n(l),m=s("./node_modules/prefix/index.js"),u=s.n(m),c=s("./app/animations/Title.js"),d=s("./app/animations/Paragraph.js"),p=s("./app/animations/Label.js"),g=s("./app/animations/Highlight.js"),w=s("./app/classes/AsyncLoad.js");class v{constructor({id:t,element:e,elements:s}){this.id=t,this.selector=e,this.selectorChildren={...s,animationsTitles:'[data-animation="title"]',animationsParagraphs:'[data-animation="paragraph"]',animationsLabels:'[data-animation="label"]',animationsHighlights:'[data-animation="highlight"]',preloaders:"[data-src]"},this.transformPrefix=u()("transform"),this.onMouseWheelEvent=this.onMouseWheel.bind(this),this.onTouhcStartEvent=this.onTouchStart.bind(this),this.onTouhcMoveEvent=this.onTouchMove.bind(this)}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},a()(this.selectorChildren,((t,e)=>{t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))})),this.createAnimations(),this.createPreloader()}createPreloader(){this.preloaders=h()(this.elements.preloaders,(t=>new w.default({element:t})))}createAnimations(){this.animations=[],this.animationsHighlights=h()(this.elements.animationsHighlights,(t=>new g.default({element:t}))),this.animations.push(...this.animationsHighlights),this.animationsTitles=h()(this.elements.animationsTitles,(t=>new c.default({element:t}))),this.animations.push(...this.animationsTitles),this.animationsParagraphs=h()(this.elements.animationsParagraphs,(t=>new d.default({element:t}))),this.animations.push(...this.animationsParagraphs),this.animationsLabels=h()(this.elements.animationsLabels,(t=>new p.default({element:t}))),this.animations.push(...this.animationsLabels)}show(t){return new Promise((e=>{this.animationIn=i.default.timeline(),t?this.animationIn=t:(this.animationIn=i.default.timeline(),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1})),this.animationIn.call((t=>{this.addEventListeners(),e()}))}))}hide(){return new Promise((t=>{this.removeEventListeners(),this.animationOut=i.default.timeline(),this.animationOut.to(this.element,{autoAlpha:0,onComplete:t})}))}onMouseWheel(t){const{pixelY:e}=r()(t);this.scroll.target+=e}onTouchStart(t){this.touchStart=t.touches[0].clientY}onTouchMove(t){this.touchCurrent=t.touches[0].clientY,this.touchStart>this.touchCurrent?(console.log(this.touchCurrent),this.scroll.target+=this.touchCurrent/10):this.touchStart<this.touchCurrent&&(this.scroll.target+=-this.touchCurrent/10)}update(){this.scroll.target=i.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current<.01&&(this.scroll.current=0),this.scroll.current=i.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.elements.wrapper&&(this.elements.wrapper.style[this.transformPrefix]=`translateY(-${this.scroll.current}px)`)}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight),a()(this.animations,(t=>t.onResize()))}addEventListeners(){window.addEventListener("mousewheel",this.onMouseWheelEvent),window.addEventListener("touchmove",this.onTouhcMoveEvent),window.addEventListener("touchstart",this.onTouhcStartEvent)}removeEventListeners(){window.removeEventListener("mousewheel",this.onMouseWheelEvent)}}}},(function(t){t.h=()=>"a6a7d8d1245e7ae9cabb"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT2dELGlCQUFpQixhQUFjNUUsS0FBS1UsbUJBRTNDa0IsT0FBT2dELGlCQUFpQixZQUFhNUUsS0FBS2Usa0JBQzFDYSxPQUFPZ0QsaUJBQWlCLGFBQWM1RSxLQUFLYSxrQkFDN0MsQ0FFQTRDLHVCQUNFN0IsT0FBT2lELG9CQUFvQixhQUFjN0UsS0FBS1Usa0JBQ2hELGtCQzdORm9FLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJzaXRlLXRlbXBsYXRlLy4vYXBwL2NsYXNzZXMvUGFnZS5qcyIsIndlYnBhY2s6Ly93ZWJzaXRlLXRlbXBsYXRlL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ3NhcCBmcm9tICdnc2FwJztcclxuaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnO1xyXG5pbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnO1xyXG5pbXBvcnQgbm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJztcclxuaW1wb3J0IFByZWZpeCBmcm9tICdwcmVmaXgnO1xyXG5cclxuaW1wb3J0IFRpdGxlIGZyb20gJ2FuaW1hdGlvbnMvVGl0bGUnO1xyXG5pbXBvcnQgUGFyYWdyYXBoIGZyb20gJ2FuaW1hdGlvbnMvUGFyYWdyYXBoJztcclxuaW1wb3J0IExhYmVsIGZyb20gJ2FuaW1hdGlvbnMvTGFiZWwnO1xyXG5pbXBvcnQgSGlnaGxpZ2h0IGZyb20gJ2FuaW1hdGlvbnMvSGlnaGxpZ2h0JztcclxuXHJcbmltcG9ydCBBc3luY0xvYWQgZnJvbSAnY2xhc3Nlcy9Bc3luY0xvYWQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZSB7XHJcbiAgY29uc3RydWN0b3IoeyBpZCwgZWxlbWVudCwgZWxlbWVudHMgfSkge1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG5cclxuICAgIHRoaXMuc2VsZWN0b3IgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5zZWxlY3RvckNoaWxkcmVuID0ge1xyXG4gICAgICAuLi5lbGVtZW50cyxcclxuXHJcbiAgICAgIGFuaW1hdGlvbnNUaXRsZXM6ICdbZGF0YS1hbmltYXRpb249XCJ0aXRsZVwiXScsXHJcbiAgICAgIGFuaW1hdGlvbnNQYXJhZ3JhcGhzOiAnW2RhdGEtYW5pbWF0aW9uPVwicGFyYWdyYXBoXCJdJyxcclxuICAgICAgYW5pbWF0aW9uc0xhYmVsczogJ1tkYXRhLWFuaW1hdGlvbj1cImxhYmVsXCJdJyxcclxuICAgICAgYW5pbWF0aW9uc0hpZ2hsaWdodHM6ICdbZGF0YS1hbmltYXRpb249XCJoaWdobGlnaHRcIl0nLFxyXG5cclxuICAgICAgcHJlbG9hZGVyczogJ1tkYXRhLXNyY10nLFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnRyYW5zZm9ybVByZWZpeCA9IFByZWZpeCgndHJhbnNmb3JtJyk7XHJcblxyXG4gICAgdGhpcy5vbk1vdXNlV2hlZWxFdmVudCA9IHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9uVG91aGNTdGFydEV2ZW50ID0gdGhpcy5vblRvdWNoU3RhcnQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMub25Ub3VoY01vdmVFdmVudCA9IHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3Rvcik7XHJcbiAgICB0aGlzLmVsZW1lbnRzID0ge307XHJcblxyXG4gICAgdGhpcy5zY3JvbGwgPSB7XHJcbiAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgIHRhcmdldDogMCxcclxuICAgICAgbGFzdDogMCxcclxuICAgICAgbGltaXQ6IDAsXHJcbiAgICB9O1xyXG5cclxuICAgIGVhY2godGhpcy5zZWxlY3RvckNoaWxkcmVuLCAoZW50cnksIGtleSkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgfHxcclxuICAgICAgICBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCB8fFxyXG4gICAgICAgIEFycmF5LmlzQXJyYXkoZW50cnkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGVudHJ5O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZW50cnkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZW50cnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCk7XHJcbiAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlUHJlbG9hZGVyKCkge1xyXG4gICAgdGhpcy5wcmVsb2FkZXJzID0gbWFwKHRoaXMuZWxlbWVudHMucHJlbG9hZGVycywgKGVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBBc3luY0xvYWQoeyBlbGVtZW50IH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVBbmltYXRpb25zKCkge1xyXG4gICAgdGhpcy5hbmltYXRpb25zID0gW107XHJcblxyXG4gICAgLy8gSGlnaGxpZ2h0XHJcbiAgICB0aGlzLmFuaW1hdGlvbnNIaWdobGlnaHRzID0gbWFwKFxyXG4gICAgICB0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNIaWdobGlnaHRzLFxyXG4gICAgICAoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgSGlnaGxpZ2h0KHtcclxuICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hbmltYXRpb25zLnB1c2goLi4udGhpcy5hbmltYXRpb25zSGlnaGxpZ2h0cyk7XHJcblxyXG4gICAgLy8gVGl0bGVzXHJcbiAgICB0aGlzLmFuaW1hdGlvbnNUaXRsZXMgPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25zVGl0bGVzLCAoZWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IFRpdGxlKHtcclxuICAgICAgICBlbGVtZW50LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYW5pbWF0aW9uc1RpdGxlcyk7XHJcblxyXG4gICAgLy8gUGFyYWdyYXBoXHJcbiAgICB0aGlzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzID0gbWFwKFxyXG4gICAgICB0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzLFxyXG4gICAgICAoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGFyYWdyYXBoKHtcclxuICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5hbmltYXRpb25zLnB1c2goLi4udGhpcy5hbmltYXRpb25zUGFyYWdyYXBocyk7XHJcblxyXG4gICAgLy8gTGFiZWxzXHJcbiAgICB0aGlzLmFuaW1hdGlvbnNMYWJlbHMgPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25zTGFiZWxzLCAoZWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IExhYmVsKHtcclxuICAgICAgICBlbGVtZW50LFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYW5pbWF0aW9uc0xhYmVscyk7XHJcbiAgfVxyXG5cclxuICAvLyBBbmltYXRpb25zXHJcbiAgc2hvdyhhbmltYXRpb24pIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkluID0gZ3NhcC50aW1lbGluZSgpO1xyXG5cclxuICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uSW4gPSBhbmltYXRpb247XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25JbiA9IGdzYXAudGltZWxpbmUoKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbkluLmZyb21UbyhcclxuICAgICAgICAgIHRoaXMuZWxlbWVudCxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgYXV0b0FscGhhOiAwLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgYXV0b0FscGhhOiAxLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uSW4uY2FsbCgoXykgPT4ge1xyXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoaWRlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uT3V0ID0gZ3NhcC50aW1lbGluZSgpO1xyXG5cclxuICAgICAgdGhpcy5hbmltYXRpb25PdXQudG8odGhpcy5lbGVtZW50LCB7XHJcbiAgICAgICAgYXV0b0FscGhhOiAwLFxyXG4gICAgICAgIG9uQ29tcGxldGU6IHJlc29sdmUsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlV2hlZWwoZSkge1xyXG4gICAgY29uc3QgeyBwaXhlbFkgfSA9IG5vcm1hbGl6ZVdoZWVsKGUpO1xyXG4gICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHBpeGVsWTtcclxuICB9XHJcblxyXG4gIG9uVG91Y2hTdGFydChlKSB7XHJcbiAgICB0aGlzLnRvdWNoU3RhcnQgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICB9XHJcblxyXG4gIG9uVG91Y2hNb3ZlKGUpIHtcclxuICAgIHRoaXMudG91Y2hDdXJyZW50ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XHJcblxyXG4gICAgaWYgKHRoaXMudG91Y2hTdGFydCA+IHRoaXMudG91Y2hDdXJyZW50KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudG91Y2hDdXJyZW50KTtcclxuICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHRoaXMudG91Y2hDdXJyZW50IC8gMTA7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMudG91Y2hTdGFydCA8IHRoaXMudG91Y2hDdXJyZW50KSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsLnRhcmdldCArPSAtdGhpcy50b3VjaEN1cnJlbnQgLyAxMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIHRoaXMuc2Nyb2xsLnRhcmdldCA9IGdzYXAudXRpbHMuY2xhbXAoXHJcbiAgICAgIDAsXHJcbiAgICAgIHRoaXMuc2Nyb2xsLmxpbWl0LFxyXG4gICAgICB0aGlzLnNjcm9sbC50YXJnZXRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKHRoaXMuc2Nyb2xsLmN1cnJlbnQgPCAwLjAxKSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSBnc2FwLnV0aWxzLmludGVycG9sYXRlKFxyXG4gICAgICB0aGlzLnNjcm9sbC5jdXJyZW50LFxyXG4gICAgICB0aGlzLnNjcm9sbC50YXJnZXQsXHJcbiAgICAgIDAuMVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodGhpcy5lbGVtZW50cy53cmFwcGVyKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudHMud3JhcHBlci5zdHlsZVt0aGlzLnRyYW5zZm9ybVByZWZpeF0gPSBgdHJhbnNsYXRlWSgtJHt0aGlzLnNjcm9sbC5jdXJyZW50fXB4KWA7IC8vcHJldHRpZXItaWdub3JlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSgpIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnRzLndyYXBwZXIpIHtcclxuICAgICAgdGhpcy5zY3JvbGwubGltaXQgPVxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMud3JhcHBlci5jbGllbnRIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZWFjaCh0aGlzLmFuaW1hdGlvbnMsIChhbmltYXRpb24pID0+IGFuaW1hdGlvbi5vblJlc2l6ZSgpKTtcclxuICB9XHJcblxyXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzLm9uTW91c2VXaGVlbEV2ZW50KTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWhjTW92ZUV2ZW50KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWhjU3RhcnRFdmVudCk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbk1vdXNlV2hlZWxFdmVudCk7XHJcbiAgfVxyXG59XHJcbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcImE2YTdkOGQxMjQ1ZTdhZTljYWJiXCIpIl0sIm5hbWVzIjpbIlBhZ2UiLCJjb25zdHJ1Y3RvciIsImlkIiwiZWxlbWVudCIsImVsZW1lbnRzIiwidGhpcyIsInNlbGVjdG9yIiwic2VsZWN0b3JDaGlsZHJlbiIsImFuaW1hdGlvbnNUaXRsZXMiLCJhbmltYXRpb25zUGFyYWdyYXBocyIsImFuaW1hdGlvbnNMYWJlbHMiLCJhbmltYXRpb25zSGlnaGxpZ2h0cyIsInByZWxvYWRlcnMiLCJ0cmFuc2Zvcm1QcmVmaXgiLCJQcmVmaXgiLCJvbk1vdXNlV2hlZWxFdmVudCIsIm9uTW91c2VXaGVlbCIsImJpbmQiLCJvblRvdWhjU3RhcnRFdmVudCIsIm9uVG91Y2hTdGFydCIsIm9uVG91aGNNb3ZlRXZlbnQiLCJvblRvdWNoTW92ZSIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJsYXN0IiwibGltaXQiLCJlYWNoIiwiZW50cnkiLCJrZXkiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImNyZWF0ZUFuaW1hdGlvbnMiLCJjcmVhdGVQcmVsb2FkZXIiLCJtYXAiLCJBc3luY0xvYWQiLCJhbmltYXRpb25zIiwiSGlnaGxpZ2h0IiwicHVzaCIsIlRpdGxlIiwiUGFyYWdyYXBoIiwiTGFiZWwiLCJzaG93IiwiYW5pbWF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJhbmltYXRpb25JbiIsImdzYXAiLCJmcm9tVG8iLCJhdXRvQWxwaGEiLCJjYWxsIiwiXyIsImFkZEV2ZW50TGlzdGVuZXJzIiwiaGlkZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiYW5pbWF0aW9uT3V0IiwidG8iLCJvbkNvbXBsZXRlIiwiZSIsInBpeGVsWSIsIm5vcm1hbGl6ZVdoZWVsIiwidG91Y2hTdGFydCIsInRvdWNoZXMiLCJjbGllbnRZIiwidG91Y2hDdXJyZW50IiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsIndyYXBwZXIiLCJzdHlsZSIsIm9uUmVzaXplIiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==